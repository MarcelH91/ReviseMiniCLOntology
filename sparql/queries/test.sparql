PREFIX clonto: <http://myCLOnto.de/> 
SELECT ?categoryname  (COUNT(?dcat) as ?howManyd) (COUNT(?rcat) as ?howManyr) ((?howManyd-?howManyr) as ?diff)
WHERE {
	?category clonto:name "Programming language topics" .
    {SELECT DISTINCT ?category ?dcat
    WHERE {
        ?category ^clonto:hasSubCategory ?dcat . 
        FILTER NOT EXISTS{ 
			?dcat clonto:depth ?depth .
		}
    }
    }
	UNION
	
	{SELECT DISTINCT ?category ?rcat
    WHERE {
		
        ?category ^clonto:hasSubCategory ?rcat . 
        ?rcat clonto:depth ?depth .
    }
    }
}
GROUP BY ?categoryname
HAVING(?diff > 0)
ORDER BY ?diff